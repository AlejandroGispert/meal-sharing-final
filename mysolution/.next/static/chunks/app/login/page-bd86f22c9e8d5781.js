(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{1119:function(e,t,a){Promise.resolve().then(a.bind(a,249))},5357:function(e,t,a){"use strict";a.d(t,{Z:function(){return p}});var n=a(2265),r=a(4839),i=a(587),s=a(6990),o=a(7434),l=a(3820),u=a(9134),d=a(7173),c=a(7437);let f=(0,d.Z)(),h=(0,u.Z)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,t[`maxWidth${(0,o.Z)(String(a.maxWidth))}`],a.fixed&&t.fixed,a.disableGutters&&t.disableGutters]}}),m=e=>(0,l.default)({props:e,name:"MuiContainer",defaultTheme:f}),x=(e,t)=>{let{classes:a,fixed:n,disableGutters:r,maxWidth:l}=e,u={root:["root",l&&`maxWidth${(0,o.Z)(String(l))}`,n&&"fixed",r&&"disableGutters"]};return(0,s.Z)(u,e=>(0,i.ZP)(t,e),a)};function p(e={}){let{createStyledComponent:t=h,useThemeProps:a=m,componentName:i="MuiContainer"}=e,s=t(({theme:e,ownerState:t})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}}),({theme:e,ownerState:t})=>t.fixed&&Object.keys(e.breakpoints.values).reduce((t,a)=>{let n=e.breakpoints.values[a];return 0!==n&&(t[e.breakpoints.up(a)]={maxWidth:`${n}${e.breakpoints.unit}`}),t},{}),({theme:e,ownerState:t})=>({..."xs"===t.maxWidth&&{[e.breakpoints.up("xs")]:{maxWidth:Math.max(e.breakpoints.values.xs,444)}},...t.maxWidth&&"xs"!==t.maxWidth&&{[e.breakpoints.up(t.maxWidth)]:{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`}}}));return n.forwardRef(function(e,t){let n=a(e),{className:o,component:l="div",disableGutters:u=!1,fixed:d=!1,maxWidth:f="lg",classes:h,...m}=n,p={...n,component:l,disableGutters:u,fixed:d,maxWidth:f},g=x(p,i);return(0,c.jsx)(s,{as:l,ownerState:p,className:(0,r.Z)(g.root,o),ref:t,...m})})}},998:function(e,t,a){"use strict";a.d(t,{H:function(){return o},a:function(){return s}});var n=a(7437),r=a(2265);let i=(0,r.createContext)(),s=()=>(0,r.useContext)(i),o=e=>{let{children:t}=e,[a,s]=(0,r.useState)(null);return(0,n.jsx)(i.Provider,{value:{user:a,login:e=>{s(e)},logout:()=>{s(null)}},children:t})}},249:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var n=a(7437),r=a(2265),i=a(8801),s=a(1193),o=a(3719),l=a(9021),u=a(6548),d=a(7349),c=a(7138),f=a(6463),h=a(998);function m(){let[e,t]=(0,r.useState)(""),[a,m]=(0,r.useState)(""),[x,p]=(0,r.useState)(""),[g,b]=(0,r.useState)(!1),v=(0,f.useRouter)(),{login:k}=(0,h.a)(),j=async t=>{t.preventDefault(),b(!0),p("");try{let t=await fetch("https://meal-sharing-final-backend.onrender.com/hosts");if(!t.ok)throw Error("Network response was not ok");let n=(await t.json()).find(t=>t.email===e&&t.password===a);n?(console.log("Login successful:",n.full_name),alert("Login successful! "+n.full_name),k(n.full_name),v.push("/dashboard?user=".concat(n.full_name,"&id=").concat(n.id))):p("Invalid email or password")}catch(e){console.error("Error fetching hosts:",e),p("Failed to fetch user data")}finally{b(!1)}};return(0,n.jsx)(i.default,{maxWidth:"xs",children:(0,n.jsxs)(s.default,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,n.jsx)(o.default,{component:"h1",variant:"h5",children:"Sign in"}),x&&(0,n.jsx)(o.default,{color:"error",children:x})," ",(0,n.jsxs)(s.default,{component:"form",onSubmit:j,noValidate:!0,sx:{mt:1},children:[(0,n.jsx)(l.Z,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:e,onChange:e=>t(e.target.value)}),(0,n.jsx)(l.Z,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:a,onChange:e=>m(e.target.value)}),(0,n.jsx)(u.default,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:g,children:g?"Loading...":"Sign In"}),(0,n.jsxs)(d.Z,{container:!0,children:[(0,n.jsx)(d.Z,{item:!0,xs:!0,children:(0,n.jsx)(u.default,{href:"#",variant:"body2",disabled:g,children:"Forgot password?"})}),(0,n.jsx)(d.Z,{item:!0,children:(0,n.jsx)(c.default,{href:"../become-host",children:(0,n.jsx)(u.default,{variant:"body2",disabled:g,children:"Don't have an account? Become a Host"})})})]})]})]})})}}},function(e){e.O(0,[193,47,643,596,21,190,349,971,23,744],function(){return e(e.s=1119)}),_N_E=e.O()}]);