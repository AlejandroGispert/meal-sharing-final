(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[186],{2455:function(e,t,a){Promise.resolve().then(a.bind(a,8859))},6648:function(e,t,a){"use strict";a.d(t,{default:function(){return n.a}});var r=a(5601),n=a.n(r)},5601:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{default:function(){return s},getImageProps:function(){return l}});let r=a(9920),n=a(497),o=a(8173),i=r._(a(1241));function l(e){let{props:t}=(0,n.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,a]of Object.entries(t))void 0===a&&delete t[e];return{props:t}}let s=o.Image},8518:function(e){e.exports={header:"page_header__oRW75",navbar:"page_navbar__k3RMs",margin:"page_margin__dW79Q",grid:"page_grid__JZ9Cz",gridCard:"page_gridCard__SHr0g",courseButton:"page_courseButton__PCWLZ",courseButtonContainer:"page_courseButtonContainer__eS198",aboutParagraphs:"page_aboutParagraphs__oBds0",aboutHeader:"page_aboutHeader__qF7Si","contact-info":"page_contact-info__a4Z7l",container:"page_container__jZF7q",backgroundVideo:"page_backgroundVideo__EjNBN",videoWrapper:"page_videoWrapper__nmU9S",fadeOut:"page_fadeOut__fTsyT",content:"page_content___38fW",transcript:"page_transcript__4aCQE",cvText:"page_cvText__1AvYq",aboutContainer:"page_aboutContainer__DgMjX",becomeHostSection:"page_becomeHostSection__Dqkx_",mediaBox:"page_mediaBox__VTlbq",mediaVideos:"page_mediaVideos__gySBt",imagesContainers:"page_imagesContainers__dIZiD",word:"page_word__YasOU",active:"page_active__9fwfh",homeTextFrontContainer:"page_homeTextFrontContainer__EHP1_",title:"page_title__po7na",map:"page_map__8FF97",becomeHostFormContainer:"page_becomeHostFormContainer__rpALs",stylingPics:"page_stylingPics__P1Wki",aboutAddWhenResponsive:"page_aboutAddWhenResponsive__0U9Hy"}},998:function(e,t,a){"use strict";a.d(t,{H:function(){return l},a:function(){return i}});var r=a(7437),n=a(2265);let o=(0,n.createContext)(),i=()=>(0,n.useContext)(o),l=e=>{let{children:t}=e,[a,i]=(0,n.useState)(null);return(0,r.jsx)(o.Provider,{value:{user:a,login:e=>{i(e)},logout:()=>{i(null)}},children:t})}},8859:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Y}});var r=a(7437),n=a(2265),o=a(6548),i=a(3719),l=a(1193),s=a(7349),d=a(9021),c=a(8518),u=a(8620),f=a(6648),h=a(998);function g(e){let{reviews:t}=e,{user:a}=(0,h.a)();return(0,r.jsxs)(l.default,{sx:{position:"absolute",top:"10%",right:"5%",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:3,overflowY:"scroll",maxHeight:"80%",zIndex:5},children:[(0,r.jsx)(i.default,{variant:"h6",children:"Reviews"}),t&&t.length>0?t.map((e,t)=>(0,r.jsxs)(l.default,{sx:{mt:2},children:[(0,r.jsx)(i.default,{variant:"body1",children:e.title}),(0,r.jsxs)(i.default,{variant:"body2",children:["* ",e.description]}),(0,r.jsxs)(i.default,{variant:"body2",children:["* ",e.stars]}),a&&(0,r.jsx)(o.default,{children:"Add Review"})]},t)):(0,r.jsx)(i.default,{children:"No Reviews Available"})]})}function p(e){let{isOpen:t,setIsOpen:a,fetchedSingleMeal:s,currentMealId:d}=e,[c,p]=(0,n.useState)(null),[m,_]=(0,n.useState)([]),[v,x]=(0,n.useState)(!1),[j,b]=(0,n.useState)(!1),[w,y]=(0,n.useState)(!0),[C,S]=(0,n.useState)(!0),[k,R]=(0,n.useState)("Unknown"),{user:Z}=(0,h.a)(),P=async e=>{try{let t=await fetch("https://meal-sharing-final-backend.onrender.com/meals/".concat(e));if(!t.ok)throw Error("Failed to fetch meal data");let a=await t.json();return console.log("Fetched meal data:",a),a}catch(e){return console.error(e),null}},A=async e=>{try{let t=await fetch("https://meal-sharing-final-backend.onrender.com/meals/".concat(e,"/reviews"));if(!t.ok)throw Error("Failed to fetch reviews");let a=await t.json();return console.log("Fetched reviews:",a),Array.isArray(a)?a:[]}catch(e){return console.error(e),[]}};(0,n.useEffect)(()=>(t&&(S(!0),p(null),P(d).then(e=>{e&&p(Array.isArray(e)?e[0]:e),S(!1)}),A(d).then(e=>_(e))),()=>{}),[t,d]);let M=()=>{a(!1),b(!1),y(!0),x(!1)};return(0,r.jsxs)(r.Fragment,{children:[void 0!==t&&(0,r.jsx)(u.Z,{open:t,onClose:M,disablePortal:!0,hideBackdrop:!w,children:(0,r.jsxs)(l.default,{sx:{position:"absolute",top:"50%",left:j?"30%":"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,transition:"left 0.5s ease"},children:[C?(0,r.jsx)(i.default,{children:"Loading..."}):c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.default,{id:"simple-modal-title",variant:"h6",component:"h2",children:["Meal: ",c.title]}),(0,r.jsx)(f.default,{alt:c.title,src:c.image_url?c.image_url:"./images/empty.jpg",width:300,height:300,layout:"intrinsic"}),(0,r.jsxs)(i.default,{id:"simple-modal-description",sx:{mt:2},children:["Description: ",c.description]}),(0,r.jsxs)(i.default,{variant:"body1",children:["Place: ",c.location]}),(0,r.jsx)(i.default,{variant:"h6",color:"textSecondary",children:(0,r.jsxs)(i.default,{variant:"body1",children:["Max Reservations: ",c.max_reservations]})}),(0,r.jsxs)(i.default,{children:["Price: ",c.price]}),(0,r.jsxs)(i.default,{variant:"h6",color:"textSecondary",children:["Status: ",k]})]}):(0,r.jsx)(i.default,{children:"Failed to load meal data"}),(0,r.jsx)(o.default,{onClick:M,variant:"outlined",sx:{mt:2},children:"Close"}),Z&&(0,r.jsx)(o.default,{onClick:()=>alert("reserved"),variant:"outlined",sx:{mt:2},children:"Reserve"}),(0,r.jsx)(o.default,{onClick:()=>{x(e=>!e),b(!0),y(!1)},variant:"outlined",sx:{mt:2},children:v?"Hide Reviews":"Show Reviews"})]})}),v&&(0,r.jsx)(g,{reviews:m})]})}var m=a(9018),_=(0,m.Z)((0,r.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward"),v=(0,m.Z)((0,r.jsx)("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}),"ArrowDownward"),x=a(4839),j=a(6990),b=a(8024),w=a(5885),y=a(8027),C=a(2296),S=a(587);function k(e){return(0,S.ZP)("MuiCard",e)}(0,C.Z)("MuiCard",["root"]);let R=e=>{let{classes:t}=e;return(0,j.Z)({root:["root"]},k,t)},Z=(0,b.default)(y.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})({overflow:"hidden"}),P=n.forwardRef(function(e,t){let a=(0,w.i)({props:e,name:"MuiCard"}),{className:n,raised:o=!1,...i}=a,l={...a,raised:o},s=R(l);return(0,r.jsx)(Z,{className:(0,x.Z)(s.root,n),elevation:o?8:void 0,ref:t,ownerState:l,...i})});function A(e){return(0,S.ZP)("MuiCardContent",e)}(0,C.Z)("MuiCardContent",["root"]);let M=e=>{let{classes:t}=e;return(0,j.Z)({root:["root"]},A,t)},F=(0,b.default)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:16,"&:last-child":{paddingBottom:24}}),N=n.forwardRef(function(e,t){let a=(0,w.i)({props:e,name:"MuiCardContent"}),{className:n,component:o="div",...i}=a,l={...a,component:o},s=M(l);return(0,r.jsx)(F,{as:o,className:(0,x.Z)(s.root,n),ownerState:l,ref:t,...i})});var D=a(339),E=(0,m.Z)((0,r.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function H(e){return(0,S.ZP)("MuiAvatar",e)}(0,C.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var B=a(6830);let O=e=>{let{classes:t,variant:a,colorDefault:r}=e;return(0,j.Z)({root:["root",a,r&&"colorDefault"],img:["img"],fallback:["fallback"]},H,t)},I=(0,b.default)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,t[a.variant],a.colorDefault&&t.colorDefault]}})((0,D.Z)(e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}})),z=(0,b.default)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),T=(0,b.default)(E,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"}),W=n.forwardRef(function(e,t){let a=(0,w.i)({props:e,name:"MuiAvatar"}),{alt:o,children:i,className:l,component:s="div",slots:d={},slotProps:c={},imgProps:u,sizes:f,src:h,srcSet:g,variant:p="circular",...m}=a,_=null,v=function(e){let{crossOrigin:t,referrerPolicy:a,src:r,srcSet:o}=e,[i,l]=n.useState(!1);return n.useEffect(()=>{if(!r&&!o)return;l(!1);let e=!0,n=new Image;return n.onload=()=>{e&&l("loaded")},n.onerror=()=>{e&&l("error")},n.crossOrigin=t,n.referrerPolicy=a,n.src=r,o&&(n.srcset=o),()=>{e=!1}},[t,a,r,o]),i}({...u,src:h,srcSet:g}),j=h||g,b=j&&"error"!==v,y={...a,colorDefault:!b,component:s,variant:p};delete y.ownerState;let C=O(y),[S,k]=(0,B.Z)("img",{className:C.img,elementType:z,externalForwardedProps:{slots:d,slotProps:{img:{...u,...c.img}}},additionalProps:{alt:o,src:h,srcSet:g,sizes:f},ownerState:y});return _=b?(0,r.jsx)(S,{...k}):i||0===i?i:j&&o?o[0]:(0,r.jsx)(T,{ownerState:y,className:C.fallback}),(0,r.jsx)(I,{as:s,className:(0,x.Z)(C.root,l),ref:t,...m,ownerState:y,children:_})});function V(e){let{meal:t,index:a,handleOpenModal:n}=e;return(0,r.jsxs)(P,{className:c.gridCard,children:[(0,r.jsx)(i.default,{variant:"h6",component:"div",sx:{textAlign:"center",padding:2,fontWeight:"bold"},children:t.title}),(0,r.jsx)(W,{alt:t.title,src:t.image_url?t.image_url:"./images/empty.jpg",sx:{width:100,height:100,margin:"auto"}}),(0,r.jsxs)(N,{children:[(0,r.jsxs)(i.default,{variant:"body1",children:["Reservations: ",t.max_reservations]}),(0,r.jsxs)(i.default,{variant:"h6",color:"textSecondary",children:["Price: ",t.price]})]}),(0,r.jsxs)(o.default,{variant:"contained",color:"primary",onClick:()=>n(t.id),children:["See meal#",t.id]},a)]})}let L=async e=>{let t=await fetch("https://meal-sharing-final-backend.onrender.com/meals?sortKey=id&sortDir=".concat(e)),a=await t.json();return console.log(a),a},q=async(e,t)=>{let a="asc"===t?"https://meal-sharing-final-backend.onrender.com/meals/".concat(e,"?sortDir=").concat(t):"https://meal-sharing-final-backend.onrender.com/meals/".concat(e),r=await fetch(a);return await r.json()},U=async(e,t)=>{let a="asc"===t?"https://meal-sharing-final-backend.onrender.com/meals?title=".concat(e,"&sortDir=").concat(t):"https://meal-sharing-final-backend.onrender.com/meals?title=".concat(e),r=await fetch(a),n=await r.json();return console.log(n),n};function Y(){let[e,t]=(0,n.useState)([]),[a,u]=(0,n.useState)(null),[f,h]=(0,n.useState)(!1),[g,m]=(0,n.useState)(null),[x,j]=(0,n.useState)(""),[b,w]=(0,n.useState)("desc"),[y,C]=(0,n.useState)("Active"),S=async()=>{try{let e=await U(x,b);t(e),console.log("done"),console.log(e)}catch(e){console.error("Error searching meals:",e)}},k=async e=>{w(e),console.log("direction "+e)},R=async e=>{try{let t=await q(e,b);u(t[0]),m(e),h(!0),console.log("this "+t[0])}catch(e){console.error("Error fetching single meal:",e)}};return(0,n.useEffect)(()=>{(async()=>{try{let e=await L(b);t(e)}catch(e){console.error("Error fetching meals:",e)}})()},[b]),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:c.header,children:[(0,r.jsx)(d.Z,{label:"Search meal",variant:"outlined",value:x,onChange:e=>j(e.target.value)}),(0,r.jsx)(o.default,{onClick:S,children:"search"})]}),(0,r.jsx)(p,{isOpen:f,setIsOpen:h,fetchedSingleMeal:a,currentMealId:g}),(0,r.jsxs)(l.default,{sx:{flexGrow:1,padding:2},children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(o.default,{children:[" ",(0,r.jsx)(_,{onClick:()=>k("asc")})]}),(0,r.jsxs)(o.default,{children:[" ",(0,r.jsx)(v,{onClick:()=>k("desc")})]})]}),(0,r.jsx)(s.Z,{className:c.grid,container:!0,spacing:6,children:e.length>0?e.map((e,t)=>(0,r.jsx)(s.Z,{item:!0,xs:12,sm:6,md:3,children:(0,r.jsx)(V,{meal:e,index:t,handleOpenModal:R})},t)):(0,r.jsxs)(i.default,{variant:"h6",component:"div",sx:{textAlign:"center",padding:2},children:["No meals available.",(0,r.jsx)("br",{})," Try again later"]})})]})]})}}},function(e){e.O(0,[851,193,47,643,173,596,21,349,971,23,744],function(){return e(e.s=2455)}),_N_E=e.O()}]);